'''
--- Day 16: Packet Decoder ---

As you leave the cave and reach open waters, you receive a transmission from the Elves back on the ship.

The transmission was sent using the Buoyancy Interchange Transmission System (BITS), a method of packing numeric expressions into a binary sequence. Your submarine's computer has saved the transmission in hexadecimal (your puzzle input).

The first step of decoding the message is to convert the hexadecimal representation into binary. Each character of hexadecimal corresponds to four bits of binary data:

0 = 0000
1 = 0001
2 = 0010
3 = 0011
4 = 0100
5 = 0101
6 = 0110
7 = 0111
8 = 1000
9 = 1001
A = 1010
B = 1011
C = 1100
D = 1101
E = 1110
F = 1111

The BITS transmission contains a single packet at its outermost layer which itself contains many other packets. The hexadecimal representation of this packet might encode a few extra 0 bits at the end; these are not part of the transmission and should be ignored.

Every packet begins with a standard header: the first three bits encode the packet version, and the next three bits encode the packet type ID. These two values are numbers; all numbers encoded in any packet are represented as binary with the most significant bit first. For example, a version encoded as the binary sequence 100 represents the number 4.

Packets with type ID 4 represent a literal value. Literal value packets encode a single binary number. To do this, the binary number is padded with leading zeroes until its length is a multiple of four bits, and then it is broken into groups of four bits. Each group is prefixed by a 1 bit except the last group, which is prefixed by a 0 bit. These groups of five bits immediately follow the packet header. For example, the hexadecimal string D2FE28 becomes:

110100101111111000101000
VVVTTTAAAAABBBBBCCCCC

Below each bit is a label indicating its purpose:

	The three bits labeled V (110) are the packet version, 6.
	The three bits labeled T (100) are the packet type ID, 4, which means the packet is a literal value.
	The five bits labeled A (10111) start with a 1 (not the last group, keep reading) and contain the first four bits of the number, 0111.
	The five bits labeled B (11110) start with a 1 (not the last group, keep reading) and contain four more bits of the number, 1110.
	The five bits labeled C (00101) start with a 0 (last group, end of packet) and contain the last four bits of the number, 0101.
	The three unlabeled 0 bits at the end are extra due to the hexadecimal representation and should be ignored.

So, this packet represents a literal value with binary representation 011111100101, which is 2021 in decimal.

Every other type of packet (any packet with a type ID other than 4) represent an operator that performs some calculation on one or more sub-packets contained within. Right now, the specific operations aren't important; focus on parsing the hierarchy of sub-packets.

An operator packet contains one or more packets. To indicate which subsequent binary data represents its sub-packets, an operator packet can use one of two modes indicated by the bit immediately after the packet header; this is called the length type ID:

	If the length type ID is 0, then the next 15 bits are a number that represents the total length in bits of the sub-packets contained by this packet.
	If the length type ID is 1, then the next 11 bits are a number that represents the number of sub-packets immediately contained by this packet.

Finally, after the length type ID bit and the 15-bit or 11-bit field, the sub-packets appear.

For example, here is an operator packet (hexadecimal string 38006F45291200) with length type ID 0 that contains two sub-packets:

00111000000000000110111101000101001010010001001000000000
VVVTTTILLLLLLLLLLLLLLLAAAAAAAAAAABBBBBBBBBBBBBBBB

	The three bits labeled V (001) are the packet version, 1.
	The three bits labeled T (110) are the packet type ID, 6, which means the packet is an operator.
	The bit labeled I (0) is the length type ID, which indicates that the length is a 15-bit number representing the number of bits in the sub-packets.
	The 15 bits labeled L (000000000011011) contain the length of the sub-packets in bits, 27.
	The 11 bits labeled A contain the first sub-packet, a literal value representing the number 10.
	The 16 bits labeled B contain the second sub-packet, a literal value representing the number 20.

After reading 11 and 16 bits of sub-packet data, the total length indicated in L (27) is reached, and so parsing of this packet stops.

As another example, here is an operator packet (hexadecimal string EE00D40C823060) with length type ID 1 that contains three sub-packets:
'110100101111111000101000'
11101110000000001101010000001100100000100011000001100000
VVVTTTILLLLLLLLLLLAAAAAAAAAAABBBBBBBBBBBCCCCCCCCCCC

	The three bits labeled V (111) are the packet version, 7.
	The three bits labeled T (011) are the packet type ID, 3, which means the packet is an operator.
	The bit labeled I (1) is the length type ID, which indicates that the length is a 11-bit number representing the number of sub-packets.
	The 11 bits labeled L (00000000011) contain the number of sub-packets, 3.
	The 11 bits labeled A contain the first sub-packet, a literal value representing the number 1.
	The 11 bits labeled B contain the second sub-packet, a literal value representing the number 2.
	The 11 bits labeled C contain the third sub-packet, a literal value representing the number 3.

After reading 3 complete sub-packets, the number of sub-packets indicated in L (3) is reached, and so parsing of this packet stops.

For now, parse the hierarchy of the packets throughout the transmission and add up all of the version numbers.

Here are a few more examples of hexadecimal-encoded transmissions:

	8A004A801A8002F478 represents an operator packet (version 4) which contains an operator packet (version 1) which contains an operator packet (version 5) which contains a literal value (version 6); this packet has a version sum of 16.
	620080001611562C8802118E34 represents an operator packet (version 3) which contains two sub-packets; each sub-packet is an operator packet that contains two literal values. This packet has a version sum of 12.
	C0015000016115A2E0802F182340 has the same structure as the previous example, but the outermost packet uses a different length type ID. This packet has a version sum of 23.
	A0016C880162017C3686B18A3D4780 is an operator packet that contains an operator packet that contains an operator packet that contains five literal values; it has a version sum of 31.

Decode the structure of your hexadecimal-encoded BITS transmission; what do you get if you add up the version numbers in all packets?


'''
import math

test_data_1 = 'D2FE28'
test_data_2 = '38006F45291200'
test_data_3 = 'EE00D40C823060'
test_data_4 = '8A004A801A8002F478'
test_data_5 = '620080001611562C8802118E34'
test_data_6 = 'C0015000016115A2E0802F182340'
test_data_7 = 'A0016C880162017C3686B18A3D4780'

hex2bin = { '0' : '0000',
			'1' : '0001',
			'2' : '0010',
			'3' : '0011',
			'4' : '0100',
			'5' : '0101',
			'6' : '0110',
			'7' : '0111',
			'8' : '1000',
			'9' : '1001',
			'A' : '1010',
			'B' : '1011',
			'C' : '1100',
			'D' : '1101',
			'E' : '1110',
			'F' : '1111'
			}


def get_packet_data( data, packet_length ):
	output = ''
	packet_data = -1
	sub_packets = [ ]

	while data[ 0 ] == '1':
		sub_packet = ''.join( data[ 1 : packet_length + 1 ] )
		print( '\t\t\t[{0}]: {1}'.format( packet_length + 1, sub_packet ) )#''.join( data[ 1 : packet_length + 1 ] ) ) )
		sub_packets.append( sub_packet )
		# output += ''.join( data[ 0: packet_length + 1 ] ) ########################
		del data[ 0: packet_length + 1 ]

	# Read the last sub-packet
	sub_packet = ''.join( data[ 1 : packet_length + 1 ] )
	print( '\t\t\tsub-packet [{0}]: {1}'.format( packet_length + 1, sub_packet ) )#''.join( data[ 1 : packet_length + 1 ] ) ) )
	sub_packets.append( sub_packet )
	# output += ''.join( data[ 0: packet_length + 1 ] ) ############################
	del data[ 0 : packet_length + 1 ]

	packet_data = int( ''.join( sub_packets ), 2 )
	return packet_data, output


def get_packet( data, num_sub_packets = -1 ):
	length_type_id = 0
	output = ''
	packet_data = -1
	packet_length = 4

	type_id = 0
	version = 0

	version = int( ''.join( data[ 0 : 3 ] ), 2 )
	type_id = int( ''.join( data[ 3 : 6 ] ), 2 )
	# output += ''.join( data[ 0: 6 ] ) ############################################
	del data[ 0 : 6 ]

	# Process a literal-value packet
	if type_id == 4:
		packet_data, out = get_packet_data( data, packet_length )
		output += out

		if num_sub_packets > 1 and packet_length < len( data ):
				num_sub_packets -= 1

		else:
			data = [ ]
			num_sub_packets = -1

		print( '\t({0}, {1}, {2}, {3}, {4})\t\t{5}'.format( version, type_id, packet_length, packet_data, num_sub_packets, ''.join( data ) ) )
		return version, type_id, packet_length, packet_data, num_sub_packets, data

	# Process an operator packet
	elif type_id != 4:
		length_type_id = int( data[ 0 ] )
		# output += ''.join( data[ 0 ] ) ###########################################
		del data[ 0 ]

		# Set the packet length
		if length_type_id == 0:
			packet_length = int( ''.join( data[ 0 : 15 ] ), 2 )
			# output += ''.join( data[ 0: 15 ] ) ###################################
			del data[ 0 : 15 ]
			# num_sub_packets = math.ceil( len( data ) / packet_length )
			num_sub_packets = round( len( data ) / packet_length )

		elif length_type_id == 1:
			num_sub_packets = int( ''.join( data[ 0 : 11 ] ), 2 )
			# output += ''.join( data[ 0: 11 ] ) ###################################
			del data[ 0 : 11 ]

		else:
			raise AssertionError( 'Packet length could not be set. This should never happen' )

	# print( 'packet_id: {0}'.format( output ) ) ###################################
	print( '\t({0}, {1}, {2}, {3}, {4})\t\t{5}'.format( version, type_id, packet_length, packet_data, num_sub_packets, ''.join( data ) ) )
	return version, type_id, packet_length, packet_data, num_sub_packets, data


def get_packets( data, 	num_sub_packets = -1 ):
	packets = [ ]
	packet_length = 0
	packet_value = 0

	type_id = 0
	version = 0

	while num_sub_packets != -1:
		version, type_id, packet_length, packet_value, num_sub_packets, data = get_packet( data, num_sub_packets )
		packets.append( ( version, type_id, packet_length, packet_value, num_sub_packets ) )

	return packets


def parse_data( data ):
	num_sub_packets = 1
	packets = [ ]
	version_sum = 0

	packets = get_packets( data, num_sub_packets )
	# print( 'Answer is: {0}'.format( packets ) )
	print( 'Answer is: ' )
	for x in packets:
		print( '\t{0}'.format( x ) )
		version_sum += x[ 0 ]

	print( 'The version sum is: {0}\n'.format( version_sum ) )


def main( data ):
	data_string = ''

	t01 = '11100110000000001001110010110111001110011000001001101111000000000100110000000000000100001001100010001011000100001010001011110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t02 = '01110010110111001110011000001001101111000000000100110000000000000100001001100010001011000100001010001011110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t03 = '1101111000000000100110000000000000100001001100010001011000100001010001011110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t04 = '0110000000000000100001001100010001011000100001010001011110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t05 = '001100010001011000100001010001011110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t06 = '1011000100001010001011110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t07 = '01010001011110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t08 = '110000100000000011011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t09 = '011100000100101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t10 = '0101000110001010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'
	t11 = '01010000111111001100000000010101100111101001110110111001101011101010100001100000000000110100001100001011111001011110111110101000110110110000101011000100000000011010010011001010010011101000101000110100000000001110011011001111111101110101000110001111010100011010010101010100000100000000000110000000100101010110000110011000010100101001101101101010011100000000100101100101011000110100111110010110110000001011100110011101110011110100101000010011110111110110110100100000000011011100111010000000000110100100100101111111111101011011111001011111111111010110101110011001110111100010101100010001001001010000000000110100110000000000111101010000000000111001000000001011000100100111000000000010010000000000100111010110000100000000001100010100000000001110011100000000001000001100000000001001001100000000001010011000000001100101001001110000000000101001100000000101000100110001000000000011000011000000000011110101000000000010100010000000001010110010001000000000100000001001110000000000111110011001100111101111001110011100011110011100100010000000000010000100100111010011100110001100111001000000001001111100110011101100101111011010001001011010000000001101010000000100000000011001100011010011000110010010000011001000000000000010000101110000110110100011011111000110011000000000000010011011001001101110111111001010001000000100111111011111000100001110011110101000010111100100000000100011000001001110000011100110000000000110011010100010000000001111010001100011100000110001000111000100010000000001100110001010000100011011011000110101000110000000001000110011000000100011101000000000100101001100011000011000011001100011000011000100010000000001011111100101000000000011010001010011000100001111111100001010011001011011000000100111001110011000001011001001001010011110111011000000000000000000001001100100000110000000001110010000011001100001111111000100000000110000000001101110001011101100000111011000011010100110000000001111010000110010100001010101000001001100110000000010101010011101011001001001001100010010100100110111011110010011001101011001100000111101001100000000010101101000000000110101001000000000000001000010101000101001110001010101100010000110001000000000111111000110101010001011001100011100111001100100011110001000000000110010001111100000000001101000111001101110000101110101111010011011100001011101011100100101001001011011011101000011000000000101011001000110110110100101011111000000000001111100111001100110001101001100001101010100110011000110100110000110100010011011110110111111000100000000010111110111001000110001101000001111111000000000001011111001000100000110011111101111001011100100000000010110011110110001011110110101000000111110011001100110011010010011111111011001100001001000100000000011000100000110001001010010110111111010110101000000111001100011110101000010000000100000000001000001011001001000111100100100010001100000010000000000110110001110110011100000000001111100101111110010011011111001001010110000100101001001101100100111010111001001010000000010011110010100001100111000101100110010100111111000100011011100100101111101011000001000000000101000110110011001100000101011111110000000001000110010011111010100101010011111110000010000101110000000001111110011001110111101100000000100111001111011010111011101101010100100001101010110000000010100101001100100011011010001000001111001111010000100011001111110111101110000001010100101011100111111101011110011001101011110101101110100100100000110110011110101111100101010110010100000000010110100001111101000101001000110000000001000011000000000001010100011001001110111101110100111010010010001000111001001010100110001111101100001001100000000100110100101110011001110011111011000001001001000000001100101000000000000010000000010101110010010110101000111111100010100101110010111110001110010001110111001010100111100011110110010001000111001001001111000100010100111110011010110001011000001111011000000000011010001010011001100001000111111000111011001010010100011110100010000000010100001110000100000000011110100001010101000110001010001101000000000000000010000101010000100011100010111011000111000000000000000001000010001000011101010001100011100011100010011000000000100101000110110011000000000011010100000001000000000110001000111010010000011000100001001110000000000000100001111100011000001000010101110000100111100100111001010100110111101111001011001000010000000001100100101101000000000011010001010011010110100110011110011001100111001010010011110111001100011010110110100100101010000000000110010011100111111011101101110000000000000101111001010010001111110001000110011000110101001110111100101110101101001100000100111001011110111001000100010000000001101110111101000000000011111000010011000111011011010110001110001001100011101101101011000111000100100111101011100010111010011000000000110001001110001001000100100010101101110010110001101010011000000000100001001000111000111101000101000001111100000000010101100110100110100110010110010000001000010011001010000000010111010011111110001111010111101101110111101001000001001111110101100011101011111010101111001101011001110101100111110010111011000111111010010110111010100111000110000000001010110010111101011111011011101001100101010110101100000000010001100110011100011101001001001001011111001100011100001010111001100000000010011110000000000100001101010010110100001001011100111110001000110011101100001110110111011100011001101110110111101100010111110011001010110011110000000'

	for datum in list( data ):
		data_string += hex2bin[ datum ]

	parse_data( list( data_string ) )
	# parse_data( list( t01 ) )
	# parse_data( list( t02 ) )
	# parse_data( list( t03 ) )
	# parse_data( list( t04 ) )
	# parse_data( list( t05 ) )
	# parse_data( list( t06 ) )
	# parse_data( list( t07 ) )
	# parse_data( list( t08 ) )
	# parse_data( list( t09 ) )
	# parse_data( list( t10 ) )
	# parse_data( list( t11 ) )


if __name__ == "__main__":
	input = r'D:\Projects\Advent_of_Code\2021\day_16_input.txt'

	raw_data = [ ]

	with open( input, 'r' ) as input_file:
		raw_data = input_file.read( ).strip( )

	# main( test_data_1 )
	# main( test_data_2 )
	# main( test_data_3 )
	# main( test_data_4 )
	# main( test_data_5 )
	# main( test_data_6 )
	# main( test_data_7 )
	main( raw_data )

